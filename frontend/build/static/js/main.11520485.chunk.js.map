{"version":3,"sources":["components/SharedStyles.tsx","components/Header.tsx","App.tsx","public.ts","load.tsx","search.tsx","serviceWorker.js","index.tsx"],"names":["styleToolbar","background","height","paddingRight","styles","styleButton","margin","fontWeight","padding","border","borderStyle","borderRadius","backgroundColor","niceColors","style","transition","color","$nest","&:hover","MyLoad","props","react","react_router_dom","Object","assign","to","MySearch","Header","index_es","container","direction","justify","alignItems","item","sm","xs","paddingTop","textAlign","component","className","variant","App","components_Header","name","content","React","port","process","PORT","ROOT_URL","concat","sendRequest","_callee","path","options","headers","response","data","_args","arguments","regenerator_default","a","wrap","_context","prev","next","length","undefined","Content-type","console","log","fetch","encodeURI","method","credentials","sent","json","error","Error","abrupt","stop","getList","_getList","apply","this","_callee2","_context2","getLoadDate","_getLoadDate","_callee3","_context3","getContacts","_x2","_getContacts","_callee4","asSearchStrings","sQuery","i","_context4","timerId","columns","key","sProgress","bRefining","fileName","createRef","tableStyle","verticalAlign","display","FileInput","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","timeCounter","names","state","handleSubmit","bind","assertThisInitialized","setState","socket","io","on","jsonRcvd","JSON","parse","something","oName","id","GivenName","FamilyName","_this2","push","close","window","clearInterval","prevState","objectSpread","value","progress","event","_this3","preventDefault","current","files","formData","FormData","file","append","bClearDB","toString","bClearCats","indexOf","setInterval","body","then","text","string","react_default","createElement","onSubmit","width","accept","type","ref","tableData","react_data_grid_default","minWidth","rowGetter","rowsCount","enableCellSelect","minHeight","Component","Load","_React$Component2","_this4","handleInputChange","target","checked","defineProperty","date","inherits","createClass","_componentDidMount2","asyncToGenerator","mark","t0","buttonStyle","onChange","load_FileInput","OSearch","sSearch","asSelect","bNext","bAnd","bSearch","sSubCatOf","iCatSearches","bComplete","aoCatsList","sCat","bAllowMult","iCatSearchesMax","backStyle","bottom","left","right","maxWidth","maxHeight","modalStyle","boxStyle","aiCatsSelected","aoSearch","aoFoundNames","iTotalRows","Search","_React$Component","catAddSelect","e","iRow","filter","o","selected","map","andButton","param","iCounter","nextButton","join","searchButton","list","loading","sAddCat","aoFound","iPersonShow","iPerson","FC_ID1","href","url","alt","src","Photo1","index","onCellSelected","rowSel","rowIdx","_componentDidMount","_searchButton","asSearch","aoContacts","_i","j","aoCats","sIsSubCatOf","sort","b","sThisCat","aoFoundPeople","FC_ID2","oSrch","index1","size","multiple","value2","index2","onClick","NameTable","ModalBox","csr","Boolean","location","hostname","match","ReactDOM","react_router","exact","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.11520485.chunk.js","sourcesContent":["export const styleBigAvatar = {\r\n  width: '80px',\r\n  height: '80px',\r\n  margin: '0px auto 15px',\r\n\r\n};\r\n\r\nexport const styleRaisedButton = {\r\n  margin: '15px 15px 30px 15px',\r\n  font: '15px Muli',\r\n};\r\n\r\nexport const styleToolbar = {\r\n  background: '#FFF',\r\n  height: '64px',\r\n  paddingRight: '20px',\r\n};\r\n\r\nexport const styleLoginButton = {\r\n  borderRadius: '2px',\r\n  textTransform: 'none',\r\n  font: '16px Muli',\r\n  fontWeight: '400',\r\n  letterSpacing: '0.01em',\r\n  color: 'white',\r\n  backgroundColor: '#DF4930',\r\n};\r\n\r\nexport const styleTextField = {\r\n  font: '15px Muli',\r\n  color: '#222',\r\n  fontWeight: '300',\r\n};\r\n\r\nexport const styleForm = {\r\n  margin: '7% auto',\r\n  width: '360px',\r\n};\r\n\r\nexport const styleGrid = {\r\n  margin: '0px auto',\r\n  font: '16px Muli',\r\n  color: '#222',\r\n  fontWeight: '300',\r\n  lineHeight: '1.5em',\r\n};\r\n\r\n","import * as React from 'react';\nimport {Link} from 'react-router-dom';\nimport {Toolbar} from '@material-ui/core';\nimport {Grid} from '@material-ui/core';\nimport {Button} from '@material-ui/core';\nimport { styleToolbar } from './SharedStyles';\nimport '../index.css';\nimport {style} from \"typestyle\";\n\n//import styled from 'styled-components';\n\n//const Button = styled.button`\n//  &:hover {\n//    background:teal;\n//  }\n//`;\n\n//    color: 'black',\n//    \"&:hover\": {\n//      color: 'white'\n//    }\n\nconst styles: {styleButton: {}} = {\n styleButton: {\n    margin: '0px 50px 10px auto',\n    fontWeight: '800',\n    padding: '5px',\n    border: '#1565C0',\n    borderStyle: 'solid',\n    borderRadius: '10%',\n    backgroundColor: '#EA9A40',\n }\n};\n\n\n/** convert a style object to a CSS class name */\nconst niceColors = style({\n  transition: 'color .2s',\n  color: 'black',\n  $nest: {\n    '&:hover': {\n      color: 'white'\n    }\n  }\n});\n\n//<h1 className={niceColors}>Hello world</h1>\nconst MyLoad = (props: any) => <Link to=\"/load\" {...props} />\nconst MySearch =  (props: any) => <Link to=\"/search\" {...props} />\nfunction Header() {\n  return (\n    <div>\n      <Toolbar style={styleToolbar}>\n        <Grid container direction=\"row\" justify=\"space-around\" alignItems=\"center\">\n          <Grid item sm={9} xs={8} style={{ paddingTop: '20px', textAlign: 'center' }}>\n          <Button component={MyLoad} className={niceColors}\n             variant='contained' style={styles.styleButton}>Load</Button>\n          <Button component = {MySearch} className={niceColors}\n           variant='contained' style={styles.styleButton}>Search</Button>\n          </Grid>\n        </Grid>\n      </Toolbar>\n    </div>\n  );\n}\n\nexport default Header;\n","//import axios from \"axios\";\nimport * as React from 'react';\nimport './App.css';\nimport * as session from './session';\n//import logo from './logo.svg';\nimport Header from './components/Header';\n//import bodyBkgd from './oriental.png';\n\n export interface AppState {\n//   email: string;\n//   password: string;\n//   isRequesting: boolean;\n//   isLoggedIn: boolean;\n//   //data: App.Item[];\n   error: string;\n }\n\nclass App extends React.Component<{}, AppState> {\n  // public state = {\n  //   email: \"\",\n  //   password: \"\",\n  //   isRequesting: false,\n  //   isLoggedIn: false,\n  //   //data: [],\n  //   error: \"\"\n  // };\n\n  // public componentDidMount() {\n  //   this.setState({ isLoggedIn: session.isSessionValid() });\n  // }\n\n//      <div className=\"App\">\n//      <div style={{ padding: '10px 45px' }}>\n\n  public render() {\n    return (\n      <div>\n            <Header/>\n            <title>Prodigium</title>\n            <meta name=\"description\" content=\"\" />\n          <h1>Prodigium Contact Search</h1>\n        </div>\n      );\n  }\n\n  // private notUsed() {\n  //   return (\n  //     <div className=\"App\">\n  //       <header className=\"App-header\">\n  //         <h1 className=\"App-title\">Welcome to React</h1>\n  //       </header>\n  //       <div className=\"App-error\">{this.state.error}</div>\n  //       {this.state.isLoggedIn ? (\n  //         <div className=\"App-private\">\n  //           <div>\n  //             Server test data:\n  //           </div>\n  //           <button disabled={this.state.isRequesting} onClick={this.getTestData}>Get test data</button>\n  //           <button disabled={this.state.isRequesting} onClick={this.logout}>Log out</button>\n  //         </div>\n  //       ) : (\n  //         <div className=\"App-login\">\n  //           (try the credentials: testuser@email.com / my-password)\n  //           <input\n  //             disabled={this.state.isRequesting}\n  //             placeholder=\"email\"\n  //             type=\"text\"\n  //             onChange={(e: React.ChangeEvent<HTMLInputElement>) => this.setState({ email: e.target.value })}\n  //           />\n  //           <input\n  //             disabled={this.state.isRequesting}\n  //             placeholder=\"password\"\n  //             type=\"password\"\n  //             onChange={(e: React.ChangeEvent<HTMLInputElement>) => this.setState({ password: e.target.value })}\n  //           />\n  //           <button disabled={this.state.isRequesting} onClick={this.handleLogin}>Log in</button>\n  //         </div>\n  //       )}\n  //     </div>\n  //   );\n  // }\n\n//  const response = await axios.post<{ token: string; expiry: string }>(\"/api/users/login\", { email, password });\n//  const { token, expiry } = response.data;\n//  session.setSession(token, expiry);\n\n//   private handleLogin = async (): Promise<void> => {\n//     //const { email, password } = this.state;\n//     try {\n//       this.setState({ error: \"\" });\n//       this.setState({ isRequesting: true });\n//       this.setState({ isLoggedIn: true });\n//     } catch (error) {\n//       this.setState({ error: \"Something went wrong\" });\n//     } finally {\n//       this.setState({ isRequesting: false });\n//     }\n//   };\n\n//   private logout = (): void => {\n//     session.clearSession();\n//     this.setState({ isLoggedIn: false });\n//   };\n\n//   private getTestData = async (): Promise<void> => {\n//     try {\n//       this.setState({ error: \"\" });\n//     } catch (error) {\n//       this.setState({ error: \"Something went wrong\" });\n//     } finally {\n//       this.setState({ isRequesting: false });\n//     }\n//   }\n// }\n}\nexport default App;\n","import 'isomorphic-fetch';\n\nconst dev = true;\n//const dev = process.env.NODE_ENV !== 'production';\nconst port = process.env.PORT || 3300;\nconst ROOT_URL = dev ? `http://localhost:${port}` : 'http://tobycontacts.ddns.net/mern-ts';\n//const ROOT_URL = '';\nconsole.log (`NODE_ENV: ${process.env.NODE_ENV} dev: ${dev}`);\n\nasync function sendRequest(path: string, options = {}) {\n  const headers = {\n    'Content-type': 'application/json; charset=UTF-8',\n  };\n\n  console.log (`sR: ${ROOT_URL}${path}`);\n  const response = await fetch(\n    encodeURI (`${ROOT_URL}${path}`),\n    Object.assign({\n      method: 'POST',\n      credentials: 'include'\n    }, {\n      headers\n    }, options)\n  );\n\n  const data = await response.json();\n\n  if (data.error) {\n    throw new Error(data.error);\n  }\n  console.log(\"sR got data: \", data);\n  return data;\n}\n\nexport async function getList () {\n  console.log (\"getList: /categories\");\n  return await sendRequest('/categories', {\n    method: 'GET',\n  });\n}\n\nexport async function getLoadDate () {\n  console.log (\"getLoadDate\");\n  return await sendRequest('/loadDate', {\n    method: 'GET',\n  });\n}\n\nexport async function getContacts (asSearchStrings: string[]) {\n  console.log (\"getContacts: /contacts\");\n  let sQuery = '';\n  let i;\n  console.log ('asSS: ', asSearchStrings);\n  for (i = 0; i < asSearchStrings.length - 1; i++) {\n    console.log ('string build: ', i, asSearchStrings[i]);\n    sQuery += asSearchStrings[i];\n    sQuery += '@';\n  }\n  sQuery += asSearchStrings[i];\n  console.log ('string finish: ', i, asSearchStrings[i]);\n  \n  return await sendRequest(`/contacts?q=${sQuery}`, {\n//    body: JSON.stringify ({'search': asSearchStrings}),\n    method: 'GET'\n  });\n}","import React, {createRef} from 'react';\r\n//import socketIOClient from 'socket.io-client';\r\nimport io from 'socket.io-client';\r\n//import {Table, Thead, Th, Tr,Td} from 'reactable';\r\nimport { getLoadDate } from './public';\r\nimport Header from './components/Header';\r\nimport ReactDataGrid from 'react-data-grid';\r\n\r\nlet aoCats: {} = [];\r\nlet timerId: number;\r\n\r\ntype OMod = {\r\n  id: number,\r\n  GivenName: string,\r\n  FamilyName: string,\r\n  \"E-mail1-Value\": string\r\n};\r\n\r\nexport function getCats () {\r\n  return (aoCats);\r\n}\r\nconst columns = [\r\n  { key: 'GivenName', name: 'GivenName' },\r\n  { key: 'FamilyName', name: 'FamilyName'}\r\n];\r\n\r\n/*\r\ninterface Props {\r\n  tableData: OMod[];\r\n}\r\n*/\r\n\r\nfunction DupsTable (tableData: { GivenName: string, FamilyName: string }[]) {\r\n    //console.log(\"Hello World\");\r\n    return (<ReactDataGrid\r\n      minWidth = {500}\r\n      columns={columns}\r\n      rowGetter={i => tableData[i]}\r\n      rowsCount={tableData.length}\r\n      enableCellSelect={false}\r\n      minHeight={420} />);\r\n  }\r\n  \r\n//function MyTable (tableData: {GivenName: string, FamilyName: string} []) {\r\n//class MyTable extends React.Component<{tableData: OMod[]}> {\r\n//  render() {\r\n//  console.log ('MyTable length', tableData.length);\r\n//  console.log ('First name: ', tableData[0].GivenName, ' ', tableData[0].FamilyName);\r\n//    return (\r\n\r\n      // <Table className = \"table\">\r\n    //        <Thead>\r\n    //       <Th column=\"firstName\">\r\n    //         <strong className=\"name-header\">First Name</strong>\r\n    //       </Th>\r\n    //       <Th column=\"lastName\">\r\n    //         <strong className=\"name-header\">Last Name</strong>\r\n    //       </Th>\r\n    //     </Thead>\r\n    //     {tableData.map(x=><Tr> <Td column=\"firstName\">{x.GivenName}</Td> <Td column=\"lastName\">{x.FamilyName}</Td></Tr>)}\r\n    //   </Table>\r\n//    );\r\n//  }\r\n//}\r\n\r\ntype FIProps = {\r\n  bClearDB: boolean,\r\n  bClearCats: boolean\r\n}\r\ntype FIState = {\r\n  timeCounter: number,\r\n  response: boolean\r\n}\r\n\r\ntype MyData = {\r\n  something: string;\r\n}\r\n\r\ntype LoadProgress = {\r\n  progress: string;\r\n}\r\ntype myJson = {\r\n  GivenName: string,\r\n  FamilyName: string\r\n}\r\n\r\nlet fileName = createRef <HTMLInputElement>();\r\nconst tableStyle = {\r\n  margin: 20,\r\n  verticalAlign: 'top',\r\n  display: 'inline-block'\r\n};\r\nlet sProgress: string;\r\n\r\nclass FileInput extends React.Component<FIProps, FIState> {\r\n//  fileInput: any;\r\n  timeCounter: number;\r\n  names: OMod[];\r\n  state: FIState;\r\n\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.setState = this.setState.bind(this);\r\n    this.timeCounter = 0;\r\n    this.names = [];\r\n    this.state = {\r\n      timeCounter: 0,\r\n      response: false\r\n    }\r\n   }\r\n\r\n  async componentDidMount() {\r\n    console.log(\"getting socket\");\r\n    //    const socket = socketIOClient();\r\n    const socket = io('http://localhost:9900');\r\n    socket.on('news', (data: MyData) => {\r\n      console.log(\"something received: \", data);\r\n      let jsonRcvd: myJson[] = JSON.parse(data.something);\r\n      //  this.setState (names: []});\r\n      //this.state.names = [];\r\n      for (let i = 0; i < jsonRcvd.length; i++) {\r\n        let oName = {} as OMod;\r\n        oName.id = i;\r\n        oName.GivenName = jsonRcvd[i].GivenName;\r\n        oName.FamilyName = jsonRcvd[i].FamilyName;\r\n        this.names.push(oName);\r\n      }\r\n      //this.state.names = JSON.parse (data.something);\r\n      //console.log (\"state.names[1]: \", this.state.names[1]);\r\n      socket.close();\r\n      window.clearInterval(timerId);\r\n\r\n      this.setState(prevState => ({\r\n        ...prevState,\r\n        response: true\r\n      }))\r\n\r\n      //this.setState({ response: true });\r\n    });\r\n\r\n    socket.on ('progress', (value: LoadProgress) => {\r\n      sProgress = value.progress;\r\n      console.log ('Value: ', value.progress);\r\n    })\r\n  }\r\n\r\n\r\n  handleSubmit(event:React.FormEvent<HTMLFormElement>) {\r\n    event.preventDefault();\r\n    if (fileName !== null && fileName.current !== null && fileName.current.files !== null) {\r\n      console.log(\"load button\");\r\n      console.log(\"props: \", this.props);\r\n      console.log(\"state: \", this.state);\r\n      let formData = new FormData();\r\n      //let fname_old = this.fileInput.current.files[0].name;\r\n      let file = fileName.current.files[0];\r\n      //let fname: any = fileName.current.files.v[0];\r\n      console.log('fileName: ', fileName);\r\n      console.log('fname: ', file);\r\n\r\n      //formData.append(\"avatar\", this.fileInput.current.files[0]);\r\n      formData.append(\"avatar\", file);\r\n      formData.append(\"clearDB\", this.props.bClearDB.toString());\r\n      formData.append(\"clearCats\", this.props.bClearCats.toString());\r\n      if (fileName !== null && fileName.current !== null) {\r\n        formData.append(\"csv\", fileName.current.name.indexOf(\"csv\") > 0 ? 'true' : 'false');\r\n      }\r\n      else {\r\n        formData.append(\"csv\", 'false');\r\n      }\r\n\r\n      console.log(\"formdata: \", formData);\r\n\r\n      //initSocket();\r\n\r\n      timerId = window.setInterval(() => {\r\n        // function called\r\n        this.timeCounter++;\r\n        this.setState({ timeCounter: this.timeCounter });\r\n      }, 1000);\r\n\r\n      var opts = {\r\n        method: \"PUT\",\r\n        body: formData\r\n      };\r\n      fetch(\"/contacts/import\", opts).then(function (response) {\r\n        return (response.text());\r\n      }).then(function (string) {\r\n        console.log(\"res: \", string);\r\n        //        $(\"body\").html(string);\r\n        //location.reload(); // essential to refresh the page\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form onSubmit={this.handleSubmit}>\r\n        <label>\r\n          Upload file:\r\n          <input style={{width: \"100%\"}} accept=\".csv, .CSV, .vcf, .VCF\" type=\"file\" ref={fileName}/>\r\n        </label>\r\n        <br /><br />\r\n        <button type=\"submit\"><strong>Submit</strong></button>\r\n        <div>\r\n        {this.state.response\r\n          ? <div><p>Loading done.</p>\r\n            <p>Near-duplicates:</p>\r\n            <div style={tableStyle}>{this.names.length > 0 ? DupsTable  (this.names) : ''}</div>\r\n            </div>\r\n          : <p>Loading: {sProgress}%</p>\r\n        }</div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport class Load extends React.Component<{}, {bClearDB: boolean, bClearCats: boolean, date: string}> {\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n    this.state = {\r\n      bClearCats: false,\r\n      bClearDB: false,\r\n      date: ''\r\n    };\r\n\r\n//    this.handleClearDB = this.handleClearDB.bind(this);\r\n//    this.handleClearCats = this.handleClearCats.bind(this);\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n  }\r\n\r\n  // static async getInitialProps() {\r\n  // }\r\n\r\n  // handleClearDB () {\r\n  //   console.log (\"clear DB\");\r\n  //   this.setState ({bClearDB: !bClearDB});\r\n  // }\r\n\r\n  // handleClearCats () {\r\n  //   console.log (\"clear cats\");\r\n  //   this.setState ({bClearCats: !bClearCats});\r\n  // }\r\n  async componentDidMount () {\r\n   try {\r\n      console.log (\"CDM before gLD call\");\r\n      const date = await getLoadDate();\r\n      console.log(\"CDM:\", date);\r\n      this.setState({ // eslint-disable-line\r\n        date: date\r\n      });\r\n      //bCatSelected = false;\r\n    } catch (err) {\r\n//      this.setState({error: err.message || err.toString() }); // eslint-disable-line\r\n    }\r\n  }\r\n  private handleInputChange = (event: React.ChangeEvent<HTMLInputElement>): void => {\r\n    console.log (\"Input change\", event.target.name, event.target.type, event.target.checked);\r\n    this.setState(prevState => ({\r\n      ...prevState,\r\n      [event.target.name]: event.target.checked\r\n    }))\r\n  }\r\n  \r\n  //handleInputChange(event) {\r\n    //    const target = event.target;\r\n    //    const value = target.type === 'checkbox' ? target.checked : target.value;\r\n    //    let name: string = event.target.name;\r\n    //    let bChecked: boolean = event.target.checked;\r\n            //this.setState({\r\n              //  [name]: bChecked\r\n              //});\r\n\r\n  render() {\r\n    //const { list } = this.props;\r\n    let buttonStyle = {width: \"16px\", height: \"16px\"};\r\n\r\n    return (\r\n      <strong>\r\n      <div style={{  margin: '0 20px' }}>\r\n        {Header ()}\r\n        <style>{`\r\n      body {\r\n        background-image: url(\"/static/media/oriental.png\");\r\n      }\r\n      `}</style>\r\n        <br /><br />\r\n        <h2 style={{ textAlign: 'left' }}>Load contacts (last loaded {this.state.date})</h2>\r\n        <form>\r\n         <label>Empty the database before loading: <input\r\n            style={buttonStyle}\r\n            name=\"bClearDB\"\r\n            type=\"checkbox\"\r\n            checked={this.state.bClearDB}\r\n            onChange={this.handleInputChange} />\r\n         </label>\r\n         <br /><br />\r\n         <label>Rebuild the categories file: <input\r\n            style={buttonStyle}\r\n            name=\"bClearCats\"\r\n            type=\"checkbox\"\r\n            checked={this.state.bClearCats}\r\n            onChange={this.handleInputChange} />\r\n         </label>\r\n         <br /><br />\r\n        </form>\r\n        <FileInput bClearDB={this.state.bClearDB} bClearCats={this.state.bClearCats} />\r\n        </div>\r\n        </strong>\r\n    );\r\n  }\r\n}\r\n\r\n// export {LoadPage, getCats;\r\n","import * as React from 'react';\r\nimport { getList, getContacts } from './public';\r\n//import ComboSelect from 'react-combo-select';\r\n//require('../node_modules/react-combo-select/style.css');\r\nimport Header from './components/Header';\r\n//import { O_CREAT } from 'constants';\r\n//import PropTypes from 'prop-types';\r\n//import {Table, Thead, Th, Tr,Td} from 'reactable';\r\nimport ReactDataGrid from 'react-data-grid';\r\n//import {ModalContainer, ModalDialog} from 'react-modal-dialog';\r\n\r\n//import PropTypes from 'prop-types';\r\n//import { isNullOrUndefined } from 'util';\r\n\r\n\r\n//const NUM_ANDS = 4;\r\ntype OMod = {\r\n  id: number,\r\n  GivenName: string,\r\n  FamilyName: string,\r\n  \"E-mail1-Value\": string,\r\n  'Phone1-Value': string,\r\n  Photo1: string,\r\n  FC_ID1: string,\r\n  FC_ID2: string,\r\n  url: string\r\n};\r\n\r\ntype OCat = {\r\n  sIsSubCatOf: string,\r\n  sThisCat: string,\r\n  key: number\r\n};\r\n\r\ntype CSRState = {\r\n  list: OCat[],\r\n  loading: boolean,\r\n  sAddCat: string[],\r\n  aoFound: OSearch[],\r\n  iCounter: number,\r\n  iPersonShow: number\r\n};  \r\n\r\nclass OSearch {\r\n  sSearch: string = '';\r\n  asSelect: string[] = [];\r\n  bNext: boolean = false;\r\n  bAnd: boolean = false;\r\n  bSearch: boolean = true;\r\n  sSubCatOf: string = '';\r\n  iCatSearches: number = 0;\r\n  bComplete: boolean = false;\r\n  aoCatsList: OCat[] = [];\r\n  sCat: string[] = [];\r\n  bAllowMult: boolean = false;\r\n  iCatSearchesMax: number = 0;\r\n};\r\n\r\n// The gray background\r\nconst backStyle = {\r\n  //        position: 'fixed',  // typescript doesn't like this\r\n  //top: 0,\r\n  bottom: 0,\r\n  left: 20,\r\n  right: 0,\r\n  maxWidth: 600,\r\n  maxHeight: 350,\r\n  backgroundColor: 'rgba(0,0,0,0.3)',\r\n  padding: 50\r\n};\r\n\r\n// The modal \"window\"\r\nconst modalStyle = {\r\n  backgroundColor: '#fff',\r\n  borderRadius: 5,\r\n  maxWidth: 500,\r\n  minHeight: 200,\r\n  margin: '0 auto',\r\n  padding: 30\r\n};\r\n\r\nconst tableStyle = {\r\n  margin: 20,\r\n  verticalAlign: 'top',\r\n  display: 'inline-block'\r\n};\r\nconst boxStyle = {\r\n  margin: 20,\r\n  verticalAlign: 'top',\r\n  display: 'inline-block'\r\n};\r\n    \r\nlet aiCatsSelected: number[] = [];\r\nlet aoSearch: OSearch[] = [];\r\n//aoSearch.push (new OSearch ());\r\naoSearch[0] = new OSearch ();\r\naoSearch[0].bNext = true;\r\nconsole.log (\"aoS original length: \", aoSearch.length);\r\nlet bRefining: boolean;\r\n//let sSubCatOf: string;\r\nlet aoFoundNames: OMod[] = [];\r\n\r\nlet iTotalRows = 0;   // easy way, rather than checking aoSearch\r\n//let iPersonShow = -1;\r\n\r\nconst columns = [\r\n  { key: 'GivenName', name: 'GivenName' },\r\n  { key: 'FamilyName', name: 'FamilyName'}\r\n];\r\n\r\n\r\nexport class Search extends React.Component<{}, CSRState> {\r\n  state: CSRState;\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.state = {\r\n      list: [],\r\n      loading: true,\r\n      sAddCat: [],\r\n      aoFound: [],\r\n      iCounter: 0,\r\n      iPersonShow: -1\r\n    }\r\n    console.log (\"constructor aoFound: \", this.state.aoFound);\r\n    this.nextButton = this.nextButton.bind(this);\r\n    this.andButton = this.andButton.bind(this);\r\n    this.searchButton = this.searchButton.bind(this);\r\n    aiCatsSelected[0] = 0;\r\n  }\r\n   \r\n  onClose () {\r\n    return;\r\n  }\r\n\r\n//          {this.props.children}\r\n\r\n  ModalBox (iPerson: number) {\r\n    console.log (\"ModalBox: \", aoFoundNames[iPerson].GivenName);\r\n    return (\r\n      <div className=\"backdrop\" style={backStyle}>\r\n      <div className=\"modal\" style={modalStyle}>\r\n          <div><p>{aoFoundNames[iPerson].GivenName} {aoFoundNames[iPerson].FamilyName}</p></div>\r\n          <p>{aoFoundNames[iPerson].FC_ID1 !== undefined ? <a target=\"_blank\" href={aoFoundNames[iPerson].url}><strong>FullContact</strong></a> : ''}</p>\r\n          <p>{aoFoundNames[iPerson]['Phone1-Value']}&nbsp;&nbsp;{aoFoundNames[iPerson]['E-mail1-Value']}</p><br></br>\r\n          <img alt=\"\" style={{height: 120}} src={aoFoundNames[iPerson].Photo1}/>\r\n          <div className=\"footer\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n\r\n  rowSel (index: number) {\r\n    console.log (\"Row: \", index);\r\n    this.setState ({iPersonShow: index});\r\n    console.log ('iPS: ', this.state.iPersonShow);\r\n  }\r\n\r\n//  handleClick () {\r\n//    return;\r\n//  }\r\n\r\n//  handleClohandleClose () {\r\n//    this.setState ({iPersonShow: -1});\r\n//    return;\r\n//  }\r\n\r\n  NameTable (tableData: { GivenName: string, FamilyName: string }[]) {\r\n    //console.log(\"Hello World\");\r\n    return (<ReactDataGrid\r\n      minWidth = {500}\r\n      columns={columns}\r\n      rowGetter={i => tableData[i]}\r\n      rowsCount={tableData.length}\r\n      enableCellSelect={true}\r\n      onCellSelected={i => this.rowSel(i.rowIdx)}\r\n      minHeight={420} />);\r\n  }\r\n  \r\n  async componentDidMount() {\r\n    try {\r\n      iTotalRows = 1;\r\n      bRefining = false;\r\n      console.log (\"CDM before gL call\");\r\n      const list = await getList();\r\n      console.log(\"CDM:\", list);\r\n      this.setState({ // eslint-disable-line\r\n        list: list,\r\n        loading: false,\r\n      });\r\n      //bCatSelected = false;\r\n    } catch (err) {\r\n//      this.setState({ loading: false, error: err.message || err.toString() }); // eslint-disable-line\r\n      this.setState({ loading: false }); // eslint-disable-line\r\n    }\r\n  }\r\n\r\n  async searchButton () {\r\n    console.log (\"Search button\");\r\n    bRefining = true;\r\n    let asSearch: string[] = [];  // api is written to use array of strings\r\n    for (let i = 0; i < iTotalRows; i++) {\r\n      asSearch[i] = aoSearch[i].sSearch;\r\n    }\r\n    let aoContacts = await getContacts(asSearch);\r\n    console.log (\"aoFound: \", aoContacts.aoFound);\r\n    this.setState ({aoFound: aoContacts.aoFound});      // same name in backend!\r\n      for (let i = 0; i < aoContacts.aoFound.length; i++) {\r\n        let oName = {} as OMod;\r\n        oName.id = i;\r\n        oName = aoContacts.aoFound[i];\r\n        aoFoundNames.push(oName);\r\n      }\r\n      console.log (aoFoundNames);\r\n     return;\r\n  }\r\n\r\n  // Add category to search.  Selection is in e.target.options.  iRow is the search row\r\n  catAddSelect = (e: React.ChangeEvent<HTMLSelectElement>, iRow: number) => {\r\n    console.log (\"Need to debug this\");\r\n    aoSearch[iRow].sCat = [].filter.call(e.target.options, (o: any) => o.selected).map((o: any) => o.value);\r\n    console.log (\"catAddSelect: \", aoSearch[iRow].sCat);\r\n  }\r\n\r\n  andButton = (param: number) => () => {\r\n    aoSearch[param].bAnd = false;\r\n    aoSearch[param].bSearch = false;\r\n    console.log ('AND iCatSearches: ', aoSearch[param].iCatSearches);\r\n    iTotalRows++;\r\n    aoSearch[iTotalRows - 1] = new OSearch ();\r\n    aoSearch[iTotalRows - 1].bNext = true;\r\n    // eslint-disable-next-line\r\n    this.setState ({iCounter: this.state.iCounter++});    // just to cause refresh\r\n  }\r\n  \r\n  nextButton = (param: number) => () => {\r\n    // param is the argument you passed to the function\r\n    // e is the event object that returned\r\n    console.log (\"next button: \", param, aoSearch[param].iCatSearches);\r\n    aoSearch[param].iCatSearches++;\r\n    if (aoSearch[param].sSearch !== \"\") {\r\n      aoSearch[param].sSearch += ' _ ';\r\n    }\r\n    if (aoSearch[param].iCatSearches < 3  && aoSearch[param].sCat.length < 2) {     // < 2 ==> not OR\r\n      console.log ('sCat: ', aoSearch[param].sCat);\r\n      console.log ('sCat length: ', aoSearch[param].sCat.length);\r\n      aoSearch[param].bComplete = false;\r\n      if (aoSearch[param].iCatSearches > 0) {\r\n        aoSearch[param].bAnd = true;\r\n      }\r\n    }\r\n    else {\r\n      aoSearch[iTotalRows - 1].bComplete = true;\r\n      aoSearch[iTotalRows - 1].bAnd = false;\r\n      aoSearch[iTotalRows - 1].bNext = false;\r\n      aoSearch[iTotalRows - 1].bSearch = false;\r\n      iTotalRows++;\r\n      aoSearch[iTotalRows - 1] = new OSearch ();\r\n      aoSearch[iTotalRows - 1].bNext = true;\r\n    }\r\n    aoSearch[param].sSearch += aoSearch[param].sCat.join (' OR '); // only puts in OR if there's more than one item in sCat?\r\n    console.log (\"searchString: \", aoSearch[param].sSearch);\r\n    aoSearch[param].sSubCatOf = aoSearch[param].sCat[0];\r\n    console.log ('asSubCatOf: ', aoSearch[param].sCat[0]);\r\n    //sSubCatOf = this.sCat[0];          // deal with the fact that this is an array\r\n    //aiCatsSelected[param]++;\r\n    if (bRefining) {\r\n      this.searchButton ();      // fake it\r\n    }\r\n    else {\r\n      // eslint-disable-next-line\r\n      this.setState ({iCounter: this.state.iCounter++});    // just to cause refresh\r\n    }\r\n  }\r\n\r\n  csr(state: any) {\r\n    for (let iRow = 0; iRow < iTotalRows; iRow++) {\r\n      console.log('iTR, iRow, iCatSearches: ', iTotalRows, iRow, aoSearch[iRow].iCatSearches);\r\n      aoSearch[iRow].aoCatsList = [];\r\n      if (aoSearch[iRow].iCatSearches < 3) {\r\n        console.log('aoS[iR].sSCO: ', aoSearch[iRow].sSubCatOf);\r\n        // work out select elements\r\n        let j = 0;\r\n        for (let i = 0; i < state.list.aoCats.length; i++) {\r\n          if (state.list.aoCats[i].sIsSubCatOf === aoSearch[iRow].sSubCatOf) {\r\n            aoSearch[iRow].aoCatsList.push(state.list.aoCats[i]);\r\n            aoSearch[iRow].aoCatsList[j].key = j++;\r\n          }\r\n        }\r\n        aoSearch[iRow].aoCatsList.sort ((a: OCat, b:OCat) => (a.sThisCat > b.sThisCat) ? 1 : -1);\r\n      }\r\n      aoSearch[iRow].bAllowMult = aoSearch[iRow].sSubCatOf === '' ? false : true;\r\n      if (aoSearch[iRow].aoCatsList.length < 2) {   // can't search a list of 1\r\n        console.log ('short row: ', iRow, aoSearch[iRow].aoCatsList.length);\r\n        aoSearch[iRow].bComplete = true; \r\n        aoSearch[iRow].bNext = false;\r\n        aoSearch[iRow].iCatSearchesMax = 2;\r\n      }\r\n    }\r\n\r\n    let aoFoundPeople: OMod[] = [];\r\n    console.log (\"csr aoFound 1: \", state.aoFound);\r\n//    if(state.aoFound !== undefined) {\r\n    if(state.aoFound !== []) {\r\n      console.log (\"csr aoFound 2: \", state.aoFound);\r\n      aoFoundPeople = state.aoFound;\r\n      aoFoundPeople.sort((a: OMod, b: OMod) => (a.FamilyName > b.FamilyName) ? 1 :\r\n       (b.FamilyName > a.FamilyName) ? -1 : \r\n       ((a.GivenName > b.GivenName) ? 1 : (b.GivenName > a.GivenName) ? -1 : 0));\r\n      //console.log (\"aoFound\", state.aoFound.aoFound[0].FamilyName);\r\n    }\r\n    else {\r\n      aoFoundPeople = [];\r\n    }\r\n    //console.log (\"aoFP: \", aoFoundPeople);\r\n\r\n//    this.aoFound.map((x, y) => console.log (x.FamilyName));\r\n\r\n    for (let i = 0; i < aoFoundPeople.length; i++) {\r\n      aoFoundPeople[i].url = `https://app.fullcontact.com/contacts/${aoFoundPeople[i].FC_ID1}/${aoFoundPeople[i].FC_ID2}`;\r\n//      console.log ('URL: ', aoFoundPeople[i].url);\r\n    }\r\n    console.log ('aoSearch len', aoSearch.length);\r\n    console.log ('aoCatsList: ', aoSearch[0].aoCatsList);\r\n    return (\r\n    <div style={{ textAlign: 'center', margin: '0 20px' }}>\r\n      {Header ()}\r\n      <h2>Search page</h2>\r\n      <strong>\r\n        {aoSearch.map((oSrch,index1) => <div key={index1}>\r\n          <div><p>{oSrch.sSearch}</p></div>\r\n          {oSrch.bComplete ? '' :\r\n            <div><select size={10} multiple={oSrch.bAllowMult ? true : false} \r\n            onChange={(e: React.ChangeEvent<HTMLSelectElement>) => this.catAddSelect(e, index1)}>\r\n            {oSrch.aoCatsList.map((value2, index2) => <option key = {index2}> {value2.sThisCat} </option>)}\r\n          </select></div>}\r\n          <div>{oSrch.bNext ? <button onClick={this.nextButton(index1)}>Next</button> : ''}</div>\r\n          <div>{oSrch.bAnd ? <button onClick={this.andButton(index1)}>AND</button> : ''}</div>\r\n          <div>{oSrch.bSearch ? <button onClick={this.searchButton}>Search</button> : ''}</div>\r\n          </div>)}\r\n          <br></br>\r\n            <div style={tableStyle}>{aoFoundPeople.length > 0 ? this.NameTable  (aoFoundPeople) : ''}</div>\r\n            <div style={boxStyle}>{this.state.iPersonShow >= 0 ? this.ModalBox (this.state.iPersonShow) : ''}</div>\r\n          <div>\r\n      </div>\r\n    </strong>\r\n    </div>\r\n    );\r\n}\r\n\r\n\r\n  render() {\r\n    console.log (`render CSRWD: |`, {...this.state});\r\n    // state has members as above - list is null on the first call, is {aoCats[]} on the second call\r\n    // and loading true on the first call, false on the second\r\n    // return <CSR {...this.props} {...this.state} />;\r\n   return (<div> {this.csr ({...this.state})} </div>);\r\n  }\r\n}\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport App from './App';\nimport {Load} from './load';\nimport {Search} from './search';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport {BrowserRouter, Route, Switch} from 'react-router-dom';\n\nReactDOM.render((\n  <BrowserRouter>\n  <Switch>\n    <Route exact path='/' component={App}/>\n    <Route path='/load' component={Load}/>\n    <Route path='/search' component={Search}/>\n  </Switch>\n  </BrowserRouter>\n), document.getElementById('root')\n);\n\n//    <App />\n\n//const bodyStyle = {\n//  backgroundImage: {bodyBkgd}\n//};\n//      {document.body.style.backgroundImage = bodyBkgd}\n\n// function Body () {\n//     return (\n//       <div>\n//         <App />\n//       </div>\n//     );\n// }\n\n// ReactDOM.render(\n//   <Body />,\n//   document.getElementById('root') as HTMLElement\n// );\n\nserviceWorker.unregister();\n"],"sourceRoot":""}